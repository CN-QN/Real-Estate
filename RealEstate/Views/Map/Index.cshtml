
@*@{
    ViewBag.Title = "Bản đồ Leaflet";
}

<h2>Chọn địa chỉ</h2>

<div>
    <input id="address" type="text" placeholder="Nhập địa chỉ..." style="width: 300px;" />
    <button onclick="searchAddress()">Tìm kiếm</button>
</div>

<div id="map"></div>

<script>
  let map = L.map("map").setView([10.762622, 106.660172], 13); // Tọa độ SG mặc định
  L.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png", {
    attribution: '&copy; OpenStreetMap contributors',
  }).addTo(map);

  let marker;

  // Khi click trên bản đồ → tạo marker
  map.on("click", function (e) {
    const { lat, lng } = e.latlng;
    if (marker) marker.remove();
    marker = L.marker([lat, lng]).addTo(map).bindPopup(`Lat: ${lat}, Lng: ${lng}`).openPopup();
    console.log("Toạ độ chọn:", lat, lng);
  });
</script>*@
